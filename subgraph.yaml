specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: EchoCampaignFactoryV2
    network: base-sepolia
    source:
      address: "0xeb46b7f9CF53323100c8E5f53598EA0e98385B18"
      abi: EchoCampaignFactoryV2
      startBlock: 33631480
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - EchoMarket
        - Campaign
      abis:
        - name: EchoCampaignFactoryV2
          file: ./abis/EchoCampaignFactoryV2.json
      eventHandlers:
        - event: CampaignCreated(indexed address,indexed address,indexed
            address,string,uint256,string,uint256,(uint256,uint256,address,string,(address,uint128,uint128),(string,(uint8,uint248,uint256,string,string)[]),(uint8,uint88,address,string)[]))
          handler: handleCampaignCreatedV2
      file: ./src/echo-campaign-factory-v2.ts
  - kind: ethereum
    name: EchoContentsV2
    network: base-sepolia
    source:
      address: "0x54aa6f498D79875d10a20087eFEd677D2b42B164"
      abi: EchoContentsV2
      startBlock: 33631480
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - EchoMarket
        - Campaign
        - Content
        - ContentAdditionalData
      abis:
        - name: EchoContentsV2
          file: ./abis/EchoContentsV2.json
      eventHandlers:
        - event: ContentApplied(indexed address,indexed uint256,indexed uint256,string,uint256,string,uint256)
          handler: handleContentAppliedV2
        - event: ContentConfigAdded(indexed address,indexed address,string,(string,bytes))
          handler: handleContentConfigAddedV2
        - event: ContentQAoverallScore(indexed address,string,indexed uint256)
          handler: handleContentQAoverallScoreV2
        - event: NewQualificationSettled(indexed address,indexed address,string,string,uint256)
          handler: handleNewQualificationSettledV2
        - event: ReadyForKPIupdates(indexed address,string)
          handler: handleReadyForKPIupdatesV2
        - event: KPIupdated(indexed address,indexed address,string,uint256,string,uint256)
          handler: handleKPIupdatedV2
        - event: ContentTotalKPIupdated(indexed address,string,indexed uint256)
          handler: handleContentTotalKPIupdatedV2
        - event: ContentEffectiveKPIupdated(indexed address,string,bool,indexed uint256,uint256,indexed uint256,uint256,uint256,string,uint256,uint256)
          handler: handleContentEffectiveKPIupdatedV2
      file: ./src/echo-contents-v2.ts
templates:
  - name: EchoCampaign
    kind: ethereum/contract
    network: base-sepolia
    source:
      abi: EchoCampaign
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/echo-campaign.ts
      entities:
        - Campaign
        - Content
      abis:
        - name: EchoCampaign
          file: ./abis/EchoCampaign.json
      eventHandlers:
        - event: CampaignPauseToggled(indexed bool,address)
          handler: handleCampaignPauseToggled
        - event: BudgetIncreased(indexed uint256,indexed uint256,indexed uint256,address,address)
          handler: handleBudgetIncreased
        - event: CampaignFinalized(indexed address,indexed uint8,indexed uint256,uint256,address)
          handler: handleCampaignFinalized
        - event: Claimed(indexed address,indexed uint256,indexed uint256,uint256,string,address)
          handler: handleClaimed
        - event: CampaignFinished(indexed uint256,address)
          handler: handleCampaignFinished
